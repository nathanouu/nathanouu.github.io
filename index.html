<!doctype html>

<title>Linking to Data Table</title>
<!-- http://syntagmatic.github.com/parallel-coordinates/ -->
<link rel="stylesheet" type="text/css" href="style.css">
<link rel="stylesheet" type="text/css" href="d3.parcoords.css">

<script src="d3.min.js"></script>
<script src="d3.parcoords.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.js"></script>

<div id="example" class="parcoords" style="height: 700px; width: 1200px; float: right"></div>

<script id="brushing">// quantitative colour scale

var parcoords = d3.parcoords()("#example")
    .alpha(0.4); // For line stroke

// load csv file and create the chart
d3.csv('videogamedata.csv', function(data) {

    //Keep the specific columns
    var dataNew = data.map(function (d) {
        return {
            "Name" : d.Name,
            "Platform" : d.Platform,
            "Genre" : d.Genre,
            "Global_Sales": +d.Global_Sales
        }
    })

    var cfData = crossfilter(dataNew);
    var dataDim = cfData.dimension(function (d) {
        return d.Global_Sales;
    })

    var filteredNew = dataDim.top(50);
    console.log(filteredNew);
    // Use parcoords library in the filtered data
    parcoords
        .data(filteredNew)
        .render()
        .createAxes();
});
</script>